<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="customIcons"><span class="type-signature"></span>customIcons<span class="type-signature"> :object</span></h4>




<div class="description">
    Collection of custom icon identifiers with filenames
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line126">line 126</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="flickrRequest"><span class="type-signature"></span>flickrRequest<span class="signature">(name)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Make an API call to Flickr. On success, add an array of photos tothe species. On failure, fail (almost) silently as the photos areconsidered non-critical progressive enhancement. Note: unlike Wikimedia,Flickr do not have a facility to batch multiple queries in a single request.Called by <a href="app.data.html#.addNewSpecies">app.data.addNewSpecies</a> and <a href="global.html#initBatchFlickrRequests">initBatchFlickrRequests</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The Flickr API search term, a species name</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line566">line 566</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getTaxon"><span class="type-signature"></span>getTaxon<span class="signature">(text)</span><span class="type-signature"> &rarr; {object}</span></h4>

    



<div class="description">
    Build and object of taxonomic classifications from Wikimedia text.Called by processWikiMediaData
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the Wikimedia text to search</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line296">line 296</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The object of taxonomic classifications
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getWikimediaData"><span class="type-signature"></span>getWikimediaData<span class="signature">(species, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Make an API call to Wikimedia and handle success and failure. Note:Wikimedia prefer to have multiple queries batched into a single request.Called by <a href="app.data.html#.addNewSpecies">app.data.addNewSpecies</a> and <a href="global.html#init">init</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>species</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The species name(s) to look up</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">func</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A callback for new user entries</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line478">line 478</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Initialize the sample set of species and sightings. Process the data fromapp.data.basic and add it to app.data.species. Enhance the data with infofrom Wikimedia and Flickr, if available.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line619">line 619</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="initBatchFlickrRequests"><span class="type-signature"></span>initBatchFlickrRequests<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Batch and process the Flickr requests for the initial set of sightingsin app.data.basic. The results are added to app.data.species by<a href="global.html#flickrRequest">flickrRequest</a>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line604">line 604</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="initGmap"><span class="type-signature"></span>initGmap<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Initialize the Google map.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="viewmodels.js.html">viewmodels.js</a>, <a href="viewmodels.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onCloseClick"><span class="type-signature"></span>onCloseClick<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Simulates a marker deselect.Clear the google maps infowindow, reset the default UI, clear the photos array,deselect the marker and clear the currentSighting.Attached to the google map infowindow close button click event.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="viewmodels.js.html">viewmodels.js</a>, <a href="viewmodels.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="parseWikiTaxoProp"><span class="type-signature"></span>parseWikiTaxoProp<span class="signature">(text, prop)</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    Get taxonomic name from Wikimedia text. Called by <a href="global.html#getTaxon">getTaxon</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the Wikimedia text to search</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prop</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the property to search for</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line277">line 277</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The name or error message
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="processFlickrData"><span class="type-signature"></span>processFlickrData<span class="signature">(data)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Photo">Photo</a>>}</span></h4>

    



<div class="description">
    Process the data received from Flickr. Build an array of Photo objectsCalled by <a href="global.html#flickrRequest">flickrRequest</a>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">The Flickr data object in JSON format</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line533">line 533</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Photo">Photo</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="processWikimediaData"><span class="type-signature"></span>processWikimediaData<span class="signature">(data)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Wrangle data received from Wikimedia. Handles batched requests by loopingthrough each result and adding the enhanced data to app.data.species. Handlesredirects by assuming the user would prefer to use their own species title.Called by <a href="global.html#getWikimediaData">getWikimediaData</a> on $.ajax success.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">the Wikimedia response</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line367">line 367</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="Photo">Photo</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>src</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">url to image thumbnail</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                    'untitled'
                
                </td>
            

            <td class="description last">image title, if supplied</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">link back to author's original location</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="data.js.html">data.js</a>, <a href="data.js.html#line518">line 518</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="global.KoSpecies.html">KoSpecies</a></li><li><a href="global.KoViewModel.html">KoViewModel</a></li><li><a href="global.Sighting.html">Sighting</a></li><li><a href="global.Species.html">Species</a></li></ul><h3>Namespaces</h3><ul><li><a href="app.html">app</a></li><li><a href="app.data.html">data</a></li><li><a href="app.gMapVM.html">gMapVM</a></li></ul><h3>Global</h3><ul><li><a href="global.html#customIcons">customIcons</a></li><li><a href="global.html#flickrRequest">flickrRequest</a></li><li><a href="global.html#getTaxon">getTaxon</a></li><li><a href="global.html#getWikimediaData">getWikimediaData</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initBatchFlickrRequests">initBatchFlickrRequests</a></li><li><a href="global.html#initGmap">initGmap</a></li><li><a href="global.html#onCloseClick">onCloseClick</a></li><li><a href="global.html#parseWikiTaxoProp">parseWikiTaxoProp</a></li><li><a href="global.html#processFlickrData">processFlickrData</a></li><li><a href="global.html#processWikimediaData">processWikimediaData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Wed Jul 29 2015 16:16:29 GMT+0100 (GMT Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>